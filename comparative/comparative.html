<!DOCTYPE html>
<html>

<head>
  <meta name="generator" content="HTML Tidy for HTML5 for Apple macOS version 5.6.0">
  <title>Covid comparative analysis</title>

  <script language="javascript" src="dalliance-compiled.js"></script>
  <script language="javascript" src="comparative.js"></script>
  <script language="javascript">
    let chr = '1'
    let viewStart = 1
    let viewEnd = 1000

    let original = new Browser({
      chr: chr,
      viewStart: viewStart,
      viewEnd: viewEnd,
      cookieKey: `dalliance-original`,
      pageName: 'origHolder',
      coordSystem: {
        speciesName: 'orig',
        auth: ' ',
        version: ' ',
      },
      chains: {
        mod2orig: {
          coords: {
            speciesName: 'mod',
            auth: 'i ',
            version: ' ',
          },
          uri: 'modifications.mod2orig.bb',
          type: 'bigbed'
        }
      },
      sources: [{
          name: 'Genome',
          desc: 'Original Genome',
          twoBitURI: 'assembly.2bit',
          disabled: false,
          pinned: true
        },
        { name: 'illumina',
          desc: 'illumina_reads',
          bamURI: 'illumina_original.bam',
          disabled: false,
          pinned: true,
        },
        { name: 'illumina',
          desc: 'illumina',
          bamURI: 'illumina_original.bw',
          disabled: false,
          pinned: true,
        },
        { name: 'ONT_reads',
          desc: 'ONT_reads',
          bamURI: 'ONT_original.bam',
          collapseSuperGroups: false,
          disabled: false,
          pinned: true,
        },
        { name: 'ONT',
          desc: 'ONT',
          bamURI: 'ONT_original.bw',
          disabled: false,
          pinned: true,
        },
        { name: 'VCF',
          desc: 'VCF',
          bwgURI: 'modifications.qvcf.bb',
          disabled: false,
          pinned: true,
        },
      ],
      setDocumentTitle: true,
      uiPrefix: 'http://www.biodalliance.org/dev/',
      fullScreen: true,
      maxWorkers: 0,
      maxViewWidth: 1000000,
      noRegistryTabs: true,
      defaultHighlightFill: 'yellow',
      defaultHighlightAlpha: 0.15,
      toolbarBelow: false,
      disablePoweredBy: true,
    })

    let modified = new Browser({
      chr: chr,
      viewStart: viewStart,
      viewEnd: viewEnd,
      cookieKey: 'dalliance-modified',
      pageName: 'modHolder',
      coordSystem: {
        speciesName: 'mod',
        auth: ' ',
        version: ' ',
      },
      chains: {
        orig2mod: {
          coords: {
            speciesName: 'orig',
            auth: ' ',
            version: ' ',
          },
          uri: 'modifications.orig2mod.bb',
          type: 'bigbed'
        }
      },
      sources: [{
          name: 'Genome',
          desc: 'Modified Genome',
          twoBitURI: 'modified.2bit',
          disabled: false,
          pinned: true
        },
        { name: 'illumina',
          desc: 'illumina_reads',
          bamURI: 'illumina_modified.bam',
          disabled: false,
          pinned: true,
        },
        { name: 'illumina',
          desc: 'illumina',
          bamURI: 'illumina_modified.bw',
          disabled: false,
          pinned: true,
        },
        { name: 'ONT_reads',
          desc: 'ONT_reads',
          bamURI: 'ONT_modified.bam',
          collapseSuperGroups: false,
          disabled: false,
          pinned: true,
        },
        { name: 'ONT',
          desc: 'ONT',
          bamURI: 'ONT_modified.bw',
          disabled: false,
          pinned: true,
        },
        { name: 'VCF',
          desc: 'VCF',
          bwgURI: 'modifications.rvcf.bb',
          disabled: false,
          pinned: true,
        },
      ],
      uiPrefix: 'http://www.biodalliance.org/dev/',
      disablePoweredBy: false,
      toolbarBelow: true,
    })

    original.addInitListener(function () {
      var compcan = document.getElementById('comparison');
      original.addViewListener(function () {
        refreshComparative(compcan, original, 'mod2orig', modified, 'orig2mod');
      });
      modified.addViewListener(function () {
        refreshComparative(compcan, original, 'mod2orig', modified, 'orig2mod');
      });
      compcan.addEventListener('click', function (ev) {
        syncComparative(original, modified, 'mod2orig');
      }, false);
    })
  </script>
</head>

<body>
  <div id='origHolder'></div>
  <canvas id='comparison' width='800' height='200'></canvas>
  <div id='modHolder'></div>
</body>

</html>